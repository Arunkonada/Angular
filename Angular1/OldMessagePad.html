<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="bootstrap-3.3.6-dist/css/bootstrap-theme.min.css" rel="stylesheet" />
</head>
<body ng-app="dialPad" ng-controller="dialController" >
    <br />
    <h2 style="margin-left: 472px;">Message Pad</h2>
    <br />
    <input  id="msg" value="{{dial}}" class="form-control" />
    <br />
    <br />
    <br />
    <div class="form-inline">
        <div style="margin-left: 447px;margin-top: -89px;" class="btn-group" role="group" aria-label="...">
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default" ng-click="one()">1(.,?)</button>
            </div>
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default" ng-click="two()">2(ABC)</button>
            </div>
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default" ng-click="three()">3(DEF)</button>
            </div>
        </div>
        <br />
        <div style="margin-left: 442px;margin-top: -34px;" class="btn-group" role="group" aria-label="...">
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default" ng-click="four()">4(GHI)</button>
            </div>
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default">5(JKL)</button>
            </div>
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default">6(MNO)</button>
            </div>
        </div>
        <br />
        <div style="margin-left: 427px;margin-top: -3px;" class="btn-group" role="group" aria-label="...">
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default">7(PQRS)</button>
            </div>
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default">8(TUV)</button>
            </div>
            <div class="btn-group btn-group-lg" role="group">
                <button type="button" class="btn btn-default">9(WXYZ)</button>
            </div>
        </div>
    </div>
    <script src="Scripts/angular.min.js"></script>
    <script>
        angular.module('dialPad', []).controller('dialController', function ($scope) {
           
            var compareTime = 0, i = 0, j = 0,
            two = ['A', 'B', 'C', 1], compareTimei = 0, twoi, twoj,
            three = ['D', 'E', 'F', 2], compareTimethree = 0, threei, threej,
            four = ['G', 'H', 'I', 3], compareTimefour = 0, fouri, fourj,
            one = ['.', '?', '1'] ,mesaage="";
            $scope.dial = mesaage;
            $scope.one = function () {
                var t0 = performance.now();
                if (i == 0 || parseInt(t0.toString().split("."), 10) <= (compareTime + 3000)) {
                    compareTime = parseInt(t0.toString().split("."), 10);
                    j++;
                    if (j != 1) {
                        if (i < one.length-1) {
                            one[i++];
                        }
                        else {
                            i = 0;
                        }
                    }
                    mesaage = mesaage + one[i];
                }
                else
                {
                    compareTime = 0; i = 0; j = 0;
                    mesaage = mesaage + one[i];
                }
                $scope.dial = mesaage;
            }
            $scope.two = function () {
                var t0 = performance.now();
                if (twoi == 0 || parseInt(t0.toString().split("."), 10) <= (compareTimei + 3000)) {
                    compareTimei = parseInt(t0.toString().split("."), 10);
                    twoj++;
                    if (twoj != 1) {
                        if (twoi < two.length - 1) {
                            two[twoi++];
                        }
                        else {
                            twoi = 0;
                        }
                    }
                    mesaage = mesaage + two[twoi];
                }
                else {
                    compareTimei = 0; twoi = 0; twoj = 0;
                    mesaage = mesaage + two[twoi];
                }
                $scope.dial = mesaage;
            }
            $scope.three = function () {
                var t0 = performance.now();
                if (threei == 0 || parseInt(t0.toString().split("."), 10) <= (compareTimethree + 3000)) {
                    compareTimethree = parseInt(t0.toString().split("."), 10);
                    threej++;
                    if (threej != 1) {
                        if (threei < three.length - 1) {
                            three[threei++];
                        }
                        else {
                            threei = 0;
                        }
                    }
                    mesaage = mesaage + three[threei];
                }
                else {
                    compareTimethree = 0; threei = 0; threej = 0;
                    mesaage = mesaage + three[threei];
                }
                $scope.dial = mesaage;
            }
            $scope.four = function () {
                var t0 = performance.now();
                if (fouri == 0 || parseInt(t0.toString().split("."), 10) <= (compareTimefour + 3000)) {
                    compareTimefour = parseInt(t0.toString().split("."), 10);
                    fourj++;
                    if (fourj != 1) {
                        if (fouri < four.length - 1) {
                            four[fouri++];
                        }
                        else {
                            fouri = 0;
                        }
                    }
                    mesaage = parseInt(t0.toString().split("."), 10) <= (compareTimefour + 3000) ? mesaage + four[fouri] : mesaage.substring(0, mesaage.length - 1) ;
                    //mesaage = mesaage + four[fouri];
                }
                else {
                    compareTimefour = 0; fouri = 0; fourj = 0;
                    mesaage = mesaage + four[fouri];
                }
                $scope.dial = mesaage;
            }
        });
    </script>
</body>
</html>
